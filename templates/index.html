{% extends 'base.html' %}
{% set nav_variant = 'public' %}

{% block title %}FitTrack | Smart Fitness Tracker{% endblock %}
{% block body_class %}ft-home{% endblock %}

{% block page_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css', v='2026-02-20-3') }}">
{% endblock %}

{% block content %}
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <section class="container mt-3" aria-label="System messages">
        {% for category, message in messages %}
          {% set c = category %}
          {% if c not in ['primary','secondary','success','danger','warning','info','light','dark'] %}
            {% set c = 'info' %}
          {% endif %}
          <div class="alert alert-{{ c }} mb-2" role="alert">{{ message }}</div>
        {% endfor %}
      </section>
    {% endif %}
  {% endwith %}

  <header id="home" class="hero">
    <div class="container hero-grid">
      <div class="hero-copy" data-aos="fade-up">
        <p class="eyebrow">Performance tracking for real routines</p>
        <h1 class="hero-title">A cleaner way to train, measure, and improve.</h1>
        <p class="hero-sub">
          Replace scattered notes with one focused dashboard: log workouts quickly, monitor weekly trends, and make better decisions with reliable data.
        </p>
        <div class="hero-actions">
          <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg btn-cta">Create Your Account</a>
          <a href="#how" class="btn btn-outline-light btn-lg btn-ghost">How It Works</a>
        </div>

        <div class="hero-meta">
          <span><i class="fa-solid fa-lock"></i> Passwords hashed</span>
          <span><i class="fa-solid fa-database"></i> MySQL-backed</span>
          <span><i class="fa-solid fa-mobile-screen"></i> Responsive on all devices</span>
        </div>
      </div>

      <div class="hero-card" data-aos="fade-left">
        <article class="snapshot-card">
          <div class="snapshot-head">
            <h2>Today’s Snapshot</h2>
            <span class="live-pill"><span class="pulse"></span>Live</span>
          </div>
          <div class="snapshot-period-controls" aria-label="Week navigation">
            <button id="snapPrevWeek" class="btn btn-outline-light btn-sm snapshot-nav-btn" type="button" aria-label="Show previous week">
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <span id="snapWeekRange" class="snapshot-week-range">This week (Mon-Sun)</span>
            <label for="snapWeekJump" class="visually-hidden">Jump to week</label>
            <input id="snapWeekJump" type="week" class="form-control form-control-sm snapshot-week-input" aria-label="Jump to week">
            <button id="snapNextWeek" class="btn btn-outline-light btn-sm snapshot-nav-btn" type="button" aria-label="Show next week">
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>
          <div class="snapshot-metrics">
            <div>
              <p>Calories this week</p>
              <strong><span id="snapCalories">520</span> kcal</strong>
            </div>
            <div>
              <p>Workouts this week</p>
              <strong><span id="snapTotal">4</span></strong>
            </div>
            <div>
              <p>Weekly goal</p>
              <strong><span id="snapGoal">72</span>%</strong>
            </div>
          </div>
          <div class="snapshot-bars" aria-label="Weekly calories visual">
            <span class="bar" id="snapBar0" title="Mon: 0 kcal"></span>
            <span class="bar" id="snapBar1" title="Tue: 0 kcal"></span>
            <span class="bar" id="snapBar2" title="Wed: 0 kcal"></span>
            <span class="bar" id="snapBar3" title="Thu: 0 kcal"></span>
            <span class="bar" id="snapBar4" title="Fri: 0 kcal"></span>
            <span class="bar" id="snapBar5" title="Sat: 0 kcal"></span>
            <span class="bar" id="snapBar6" title="Sun: 0 kcal"></span>
          </div>
        </article>
      </div>
    </div>
  </header>

  <section class="trust-strip" aria-label="Core strengths">
    <div class="container trust-grid">
      <div><i class="fa-solid fa-shield-halved"></i> Secure role-based access</div>
      <div><i class="fa-solid fa-chart-line"></i> Weekly analytics that are easy to read</div>
      <div><i class="fa-solid fa-file-csv"></i> One-click Documents export</div>
      <div><i class="fa-solid fa-gauge-high"></i> Lightweight, fast workflow</div>
    </div>
  </section>

  <section id="benefits" class="section">
    <div class="container">
      <div class="section-head text-center" data-aos="fade-up">
        <span class="section-kicker">Benefits</span>
        <h2>Built for consistency</h2>
        <p>See exactly what you did, what changed this week, and where to improve next.</p>
      </div>

      <div class="benefit-grid">
        <article class="benefit-card" data-aos="fade-up">
          <div class="icon-circle"><i class="fa-solid fa-dumbbell"></i></div>
          <h3>Fast workout logging</h3>
          <p>Add activity, duration, and calories quickly without extra complexity.</p>
        </article>
        <article class="benefit-card" data-aos="fade-up" data-aos-delay="80">
          <div class="icon-circle"><i class="fa-solid fa-chart-pie"></i></div>
          <h3>Clear weekly trends</h3>
          <p>Understand performance patterns instead of relying on memory.</p>
        </article>
        <article class="benefit-card" data-aos="fade-up" data-aos-delay="160">
          <div class="icon-circle"><i class="fa-solid fa-user-shield"></i></div>
          <h3>Secure by default</h3>
          <p>Role separation, hashed passwords, and session-based protection.</p>
        </article>
        <article class="benefit-card" data-aos="fade-up" data-aos-delay="240">
          <div class="icon-circle"><i class="fa-solid fa-cloud-arrow-down"></i></div>
          <h3>Export when needed</h3>
          <p>Download data for reporting, backup, or further analysis.</p>
        </article>
      </div>
    </div>
  </section>

  <section id="how" class="section section-alt">
    <div class="container">
      <div class="section-head text-center" data-aos="fade-up">
        <span class="section-kicker">How It Works</span>
        <h2>How FitTrack works</h2>
        <p>Three clear steps from first login to measurable progress.</p>
      </div>
      <div class="how-grid">
        <article class="how-card" data-aos="fade-up">
          <span class="step-badge">01</span>
          <h3>Create account</h3>
          <p>Register once and start with a clean dashboard.</p>
        </article>
        <article class="how-card" data-aos="fade-up" data-aos-delay="100">
          <span class="step-badge">02</span>
          <h3>Log workouts daily</h3>
          <p>Track each session with duration and calories.</p>
        </article>
        <article class="how-card" data-aos="fade-up" data-aos-delay="200">
          <span class="step-badge">03</span>
          <h3>Review, adjust, improve</h3>
          <p>Use weekly charts and stats to refine your habits.</p>
        </article>
      </div>
    </div>
  </section>

  <section id="stories" class="section">
    <div class="container">
      <div class="section-head text-center" data-aos="fade-up">
        <span class="section-kicker">Stories</span>
        <h2>Results from consistent habits</h2>
        <p>Users improve because the data stays visible and actionable.</p>
      </div>

      <div class="story-grid">
        <article class="story-card" data-aos="fade-up">
          <img src="{{ url_for('static', filename='images/james.jpg') }}" alt="James, 38 — FitTrack user testimonial">
          <div>
            <div class="story-rating" aria-label="5 out of 5 stars">
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            </div>
            <p class="story-quote">“FitTrack helped me connect habits to outcomes and stay accountable.”</p>
            <strong class="story-name">James, 38</strong>
            <span class="story-outcome">Improved blood sugar levels</span>
          </div>
        </article>
        <article class="story-card" data-aos="fade-up" data-aos-delay="100">
          <img src="{{ url_for('static', filename='images/Darren.jpg') }}" alt="Darren, 45 — FitTrack user testimonial">
          <div>
            <div class="story-rating" aria-label="5 out of 5 stars">
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            </div>
            <p class="story-quote">“The dashboard makes progress obvious — it keeps me consistent.”</p>
            <strong class="story-name">Darren, 45</strong>
            <span class="story-outcome">More energy and focus</span>
          </div>
        </article>
        <article class="story-card" data-aos="fade-up" data-aos-delay="200">
          <img src="{{ url_for('static', filename='images/Jamie.jpg') }}" alt="Melanie, 54 — FitTrack user testimonial">
          <div>
            <div class="story-rating" aria-label="5 out of 5 stars">
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
              <i class="fa-solid fa-star"></i>
            </div>
            <p class="story-quote">“I lost 10kg by tracking weekly and adjusting with data.”</p>
            <strong class="story-name">Melanie, 54</strong>
            <span class="story-outcome">Consistent weight loss</span>
          </div>
        </article>
      </div>
    </div>
  </section>

  <section id="faq" class="section section-alt">
    <div class="container">
      <div class="section-head text-center" data-aos="fade-up">
        <span class="section-kicker">FAQ</span>
        <h2>Frequently asked questions</h2>
        <p>Quick answers about security, exports, and admin access.</p>
      </div>
      <div class="faq-shell">
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item" data-aos="fade-up">
            <h2 class="accordion-header">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                Is my workout data private from other users?
              </button>
            </h2>
            <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
              <div class="accordion-body">Yes. Your workout entries are account-scoped, and only authorized admin roles can access platform-level oversight views.</div>
            </div>
          </div>

          <div class="accordion-item" data-aos="fade-up" data-aos-delay="100">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                Can I export my records for reports or coursework?
              </button>
            </h2>
            <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">Yes. Users can export workout history from the dashboard for documentation, analysis, and backup workflows.</div>
            </div>
          </div>

          <div class="accordion-item" data-aos="fade-up" data-aos-delay="200">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                What happens if my account is archived by an admin?
              </button>
            </h2>
            <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">Archived accounts are temporarily blocked from login, but profile/workout data is preserved and restored when reactivated.</div>
            </div>
          </div>

          <div class="accordion-item" data-aos="fade-up" data-aos-delay="300">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                Which import formats are supported for workout uploads?
              </button>
            </h2>
            <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">FitTrack supports structured JSON and CSV imports for consistent, auditable workout ingestion.</div>
            </div>
          </div>

          <div class="accordion-item" data-aos="fade-up" data-aos-delay="400">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                How are passwords and login sessions protected?
              </button>
            </h2>
            <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">Passwords are securely hashed, requests are CSRF-protected, and role-based session checks guard restricted pages.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="cta">
    <div class="container">
      <h2 data-aos="fade-up">Start with structure, then build momentum.</h2>
      <p data-aos="fade-up" data-aos-delay="100">Track daily, review weekly, and improve with evidence.</p>
      <a href="{{ url_for('register') }}" class="btn btn-light btn-lg mt-3">Create Your Account</a>
    </div>
  </section>
{% endblock %}

{% block page_scripts %}
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="{{ url_for('static', filename='js/index.js', v='2026-02-20-2') }}"></script>
{% endblock %}
